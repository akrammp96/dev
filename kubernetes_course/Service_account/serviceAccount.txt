_____what is a service account ?______

there are two types of accounts in Kubernetes,
a user account and a service account.

___A user account could be
for an administrator accessing the cluster
to perform administrative tasks, or a developer accessing the cluster
to deploy applications, et cetera.

___A service account could be an account used by an application
to interact with a Kubernetes cluster.
For example, a monitoring application like Prometheus uses a service account to pull the Kubernetes API for performance metrics.


_______Service Account creation_______
So when a service account is created,

it first creates the service account object
and then generates a token for the service account.
It then creates a secret object and stores that token inside the secret object.

To see the token use: 

kubectl describe secret dashboard-sa-

______________________________________________________________

This token can then be used as

an authentication bearer token while making a REST call

to the Kubernetes API.
______________________________________________________________


What if the third-party application is hosted on the Kubernetes cluster itself

we can only mount the automatically mounting the service token secret as a volume

inside the pod hosting the third-party application.
That way, the token to access the Kubernetes API

is already placed inside the pod

and can be easily read by the application.


#####  HINT   #####
There are an already existing default service account for each namespace in a kubernetes cluster. 
by running the kubectl described pod command.

You see that a volume is automatically created

from the secret named default token

which is in fact, the secret containing the token

for this default service account.



___________the default service account is very much restricted.

It only has permission to run basic Kubernetes API queries.__________


____________you cannot edit the service account

of an existing pod.

You must delete and recreate the pod.

However, in case of a deployment, you will be able

to edit the service account as any changes

to the pod definition file____________



_________FOR THE LAST UPDATES OF SERVICEACCOUNTS_______

(-) For the old approach, the token have no expiry date. 
(-) JWT is not bound to any audience and is not time bound
(-) each JWT requires a separate secret object per service account, which results in scalability issues.


(+)  In version 1.22, the token request API was introduced as part
of the Kubernetes Enhancement Proposal that aimed to introduce a mechanism
for provisioning Kubernetes service account tokens 
that are more secure and scalable via an API.

(+) with version 1.24, a change was made where

when you create a service account,

it no longer automatically creates a secret

or a token as a secret.

So you must run the command kubectl create token

followed by the name of the service account

to generate a token for that service account